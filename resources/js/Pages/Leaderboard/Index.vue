<template>
    <div class="flex justify-center my-6">
        <label for="timeRange" class="mr-4 rtl:ml-4 font-semibold">{{ $t('chooseRange') }}:</label>
        <select v-model="selectedRange" @change="fetchLeaderboardData"
            class="rounded-md bg-white border border-gray-300 shadow-sm w-48">
            <option value="7">{{ $t('days7') }}</option>
            <option value="14">{{ $t('days14') }}</option>
            <option value="30">{{ $t('days30') }}</option>
            <option value="60">{{ $t('days60') }}</option>
            <option value="180">{{ $t('days180') }}</option>
            <option value="365">{{ $t('year') }}</option>
            <option value="all">{{ $t('allTime') }}</option>
        </select>
    </div>

    <ul class="flex border-b overflow-scroll pb-2 my-4">
        <li v-for="tab in tabs" :key="tab" :class="{ 'border-blue-500 text-blue-500': activeTab === tab }"
            class="mr-4 cursor-pointer py-2 px-4 border-b-2 flex items-center" @click="setActiveTab(tab)">
            <span class="mr-2">{{ $t(tab) }}</span>
        </li>
    </ul>

    <!-- Users -->
    <div v-if="activeTab === 'users'">
        <!-- Top 3 Users in a Vertical List -->
        <div class="space-y-2">
            <div v-for="(user, index) in topUsers.slice(0, 3)" :key="user.id"
                class="max-w-md mx-auto shadow-md shadow-black flex flex-col items-center space-y-2"
                :class="['px-4 py-1 rounded-lg shadow-md hover:shadow-xl transition-shadow', index === 0 ? 'bg-slate-700 text-white font-bold py-2' : index === 1 ? 'bg-neutral-700 !text-white py-2' : 'bg-sky-700 !text-white py-2']">
                <svg v-if="index === 0" class="size-24 stroke-[5] stroke-yellow-400 fill-yellow-500 " version="1.1"
                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 512 512" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <path d="M424.747,4.544C422.741,1.707,419.477,0,416,0H309.333c-4.501,0-8.533,2.837-10.069,7.083l-43.712,122.389L212.736,7.147
				C211.243,2.859,207.189,0,202.667,0H96c-3.477,0-6.741,1.685-8.747,4.544c-1.984,2.859-2.475,6.507-1.28,9.771l82.709,227.456
				c-37.483,27.157-62.016,71.168-62.016,120.896C106.667,445.013,173.653,512,256,512s149.333-66.987,149.333-149.333
				c0-49.728-24.533-93.739-62.016-120.896l82.709-227.456C427.221,11.029,426.731,7.381,424.747,4.544z M111.232,21.333h83.861
				l67.328,192.32c-2.155-0.085-4.267-0.32-6.421-0.32c-24.811,0-48.192,6.165-68.8,16.917L111.232,21.333z M384,362.667
				c0,70.592-57.408,128-128,128s-128-57.408-128-128s57.408-128,128-128S384,292.075,384,362.667z M324.8,230.251
				c-12.096-6.315-25.088-11.093-38.827-13.909l-19.2-54.848l50.069-140.16h83.925L324.8,230.251z" />
                                <path d="M214.464,314.091c2.645,5.269,9.024,7.403,14.315,4.779L256,305.259v132.075c0,5.888,4.779,10.667,10.667,10.667
				s10.667-4.779,10.667-10.667V288c0-3.691-1.92-7.125-5.056-9.088c-3.157-1.963-7.061-2.133-10.368-0.469l-42.667,21.333
				C213.973,302.421,211.819,308.821,214.464,314.091z" />
                            </g>
                        </g>
                    </g>
                </svg>
                <svg v-if="index === 1" class="size-24 stroke-[5] stroke-red-400 fill-red-500 " version="1.1"
                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 512 512" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <path d="M424.719,4.544C422.735,1.707,419.471,0,415.994,0H309.327c-4.501,0-8.533,2.837-10.048,7.083l-43.712,122.389
				L212.751,7.147C211.237,2.859,207.226,0,202.682,0H96.015c-3.477,0-6.741,1.707-8.725,4.544
				c-2.005,2.859-2.496,6.507-1.301,9.771l82.709,227.456c-37.483,27.157-62.016,71.168-62.016,120.896
				C106.682,445.013,173.69,512,256.015,512s149.333-66.987,149.333-149.333c0-49.728-24.533-93.739-62.037-120.896l82.709-227.456
				C427.194,11.029,426.725,7.381,424.719,4.544z M111.247,21.333h83.883l67.307,192.32c-2.155-0.085-4.267-0.32-6.421-0.32
				c-24.811,0-48.171,6.165-68.8,16.939L111.247,21.333z M384.015,362.667c0,70.592-57.408,128-128,128s-128-57.408-128-128
				s57.408-128,128-128S384.015,292.075,384.015,362.667z M324.794,230.272c-12.096-6.315-25.088-11.093-38.827-13.909l-19.2-54.848
				l50.091-140.181h83.925L324.794,230.272z" />
                                <path d="M213.349,320v10.667c0,5.888,4.779,10.667,10.667,10.667s10.667-4.779,10.667-10.667V320
				c0-11.755,9.557-21.333,21.333-21.333c11.776,0,21.333,9.579,21.333,21.333c0,18.347-6.059,36.523-17.067,51.221l-44.8,59.733
				c-2.411,3.221-2.816,7.552-1.003,11.157c1.813,3.605,5.504,5.888,9.536,5.888h64c5.888,0,10.667-4.779,10.667-10.667
				c0-5.888-4.779-10.667-10.667-10.667h-42.667L277.327,384c13.781-18.325,21.355-41.067,21.355-64
				c0-23.531-19.136-42.667-42.667-42.667C232.485,277.333,213.349,296.469,213.349,320z" />
                            </g>
                        </g>
                    </g>
                </svg>
                <svg v-if="index === 2" class="size-24 stroke-[5] stroke-emerald-100 fill-emerald-200 " version="1.1"
                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 512 512" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <path
                                    d="M213.349,320c0,5.888,4.779,10.667,10.667,10.667s10.667-4.779,10.667-10.667c0-11.755,9.557-21.333,21.333-21.333
				c11.776,0,21.333,9.579,21.333,21.333s-9.557,21.333-21.333,21.333h-10.667c-5.888,0-10.667,4.779-10.667,10.667
				c0,5.888,4.779,10.667,10.667,10.667h10.667c11.776,0,21.333,9.579,21.333,21.333v21.333c0,11.755-9.557,21.333-21.333,21.333
				c-11.776,0-21.333-9.579-21.333-21.333c0-5.888-4.779-10.667-10.667-10.667s-10.667,4.779-10.667,10.667
				c0,23.531,19.136,42.667,42.667,42.667c23.531,0,42.667-19.136,42.667-42.667V384c0-12.736-5.611-24.171-14.485-32
				c8.875-7.829,14.485-19.264,14.485-32c0-23.531-19.136-42.667-42.667-42.667C232.485,277.333,213.349,296.469,213.349,320z" />
                                <path d="M424.719,4.544C422.735,1.707,419.471,0,415.994,0H309.327c-4.501,0-8.533,2.837-10.048,7.083l-43.712,122.389
				L212.751,7.147C211.237,2.859,207.226,0,202.682,0H96.015c-3.477,0-6.741,1.707-8.725,4.544
				c-2.005,2.859-2.496,6.507-1.301,9.771l82.709,227.456c-37.483,27.157-62.016,71.168-62.016,120.896
				C106.682,445.013,173.69,512,256.015,512s149.333-66.987,149.333-149.333c0-49.728-24.533-93.739-62.037-120.896l82.709-227.456
				C427.194,11.029,426.725,7.381,424.719,4.544z M111.247,21.333h83.883l67.307,192.32c-2.155-0.085-4.267-0.32-6.421-0.32
				c-24.811,0-48.171,6.165-68.8,16.939L111.247,21.333z M384.015,362.667c0,70.592-57.408,128-128,128s-128-57.408-128-128
				s57.408-128,128-128S384.015,292.075,384.015,362.667z M324.794,230.272c-12.096-6.315-25.088-11.093-38.827-13.909l-19.2-54.848
				l50.091-140.181h83.925L324.794,230.272z" />
                            </g>
                        </g>
                    </g>
                </svg>

                <h2 class="text-2xl font-semibold ">
                    <Link :href="user.path" class=" hover:underline capitalize">{{ user.name }}</Link>
                </h2>

                <p class="">{{ user.points_sum_points ? user.points_sum_points : 0
                    }} {{ $t('point') }}</p>
            </div>
        </div>

        <!-- Rest of the Users in a Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
            <div v-for="(user, index) in topUsers.slice(3)" :key="user.id"
                class="bg-white p-4 rounded-lg shadow-md hover:shadow-xl transition-shadow">
                <span class="text-2xl font-semibold ">{{ index + 4 }}</span>
                <h2 class="text-2xl font-semibold ">
                    <a :href="user.path" class="text-blue-500 hover:underline capitalize">{{ user.name }}</a>
                </h2>
                <p class="text-gray-700">{{ user.points_sum_points ? user.points_sum_points : 0
                    }} {{ $t('point') }}</p>
            </div>
        </div>
    </div>

    <!-- Threads -->
    <div v-if="activeTab === 'threads'">
        <!-- Top 3 Threads in a Vertical List -->
        <div class="space-y-2">
            <div v-for="(thread, index) in topThreads.slice(0, 3)" :key="thread.id"
                class="max-w-md mx-auto shadow-md shadow-black flex flex-col items-center space-y-2"
                :class="['px-4 py-1 rounded-lg shadow-md hover:shadow-xl transition-shadow', index === 0 ? 'bg-slate-700 text-white font-bold py-2' : index === 1 ? 'bg-neutral-700 !text-white py-2' : 'bg-sky-700 !text-white py-2']">
                <svg v-if="index === 0" class="size-24 stroke-[5] stroke-yellow-400 fill-yellow-500 " version="1.1"
                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 512 512" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <path d="M424.747,4.544C422.741,1.707,419.477,0,416,0H309.333c-4.501,0-8.533,2.837-10.069,7.083l-43.712,122.389L212.736,7.147
				C211.243,2.859,207.189,0,202.667,0H96c-3.477,0-6.741,1.685-8.747,4.544c-1.984,2.859-2.475,6.507-1.28,9.771l82.709,227.456
				c-37.483,27.157-62.016,71.168-62.016,120.896C106.667,445.013,173.653,512,256,512s149.333-66.987,149.333-149.333
				c0-49.728-24.533-93.739-62.016-120.896l82.709-227.456C427.221,11.029,426.731,7.381,424.747,4.544z M111.232,21.333h83.861
				l67.328,192.32c-2.155-0.085-4.267-0.32-6.421-0.32c-24.811,0-48.192,6.165-68.8,16.917L111.232,21.333z M384,362.667
				c0,70.592-57.408,128-128,128s-128-57.408-128-128s57.408-128,128-128S384,292.075,384,362.667z M324.8,230.251
				c-12.096-6.315-25.088-11.093-38.827-13.909l-19.2-54.848l50.069-140.16h83.925L324.8,230.251z" />
                                <path d="M214.464,314.091c2.645,5.269,9.024,7.403,14.315,4.779L256,305.259v132.075c0,5.888,4.779,10.667,10.667,10.667
				s10.667-4.779,10.667-10.667V288c0-3.691-1.92-7.125-5.056-9.088c-3.157-1.963-7.061-2.133-10.368-0.469l-42.667,21.333
				C213.973,302.421,211.819,308.821,214.464,314.091z" />
                            </g>
                        </g>
                    </g>
                </svg>
                <svg v-if="index === 1" class="size-24 stroke-[5] stroke-red-400 fill-red-500 " version="1.1"
                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 512 512" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <path d="M424.719,4.544C422.735,1.707,419.471,0,415.994,0H309.327c-4.501,0-8.533,2.837-10.048,7.083l-43.712,122.389
				L212.751,7.147C211.237,2.859,207.226,0,202.682,0H96.015c-3.477,0-6.741,1.707-8.725,4.544
				c-2.005,2.859-2.496,6.507-1.301,9.771l82.709,227.456c-37.483,27.157-62.016,71.168-62.016,120.896
				C106.682,445.013,173.69,512,256.015,512s149.333-66.987,149.333-149.333c0-49.728-24.533-93.739-62.037-120.896l82.709-227.456
				C427.194,11.029,426.725,7.381,424.719,4.544z M111.247,21.333h83.883l67.307,192.32c-2.155-0.085-4.267-0.32-6.421-0.32
				c-24.811,0-48.171,6.165-68.8,16.939L111.247,21.333z M384.015,362.667c0,70.592-57.408,128-128,128s-128-57.408-128-128
				s57.408-128,128-128S384.015,292.075,384.015,362.667z M324.794,230.272c-12.096-6.315-25.088-11.093-38.827-13.909l-19.2-54.848
				l50.091-140.181h83.925L324.794,230.272z" />
                                <path d="M213.349,320v10.667c0,5.888,4.779,10.667,10.667,10.667s10.667-4.779,10.667-10.667V320
				c0-11.755,9.557-21.333,21.333-21.333c11.776,0,21.333,9.579,21.333,21.333c0,18.347-6.059,36.523-17.067,51.221l-44.8,59.733
				c-2.411,3.221-2.816,7.552-1.003,11.157c1.813,3.605,5.504,5.888,9.536,5.888h64c5.888,0,10.667-4.779,10.667-10.667
				c0-5.888-4.779-10.667-10.667-10.667h-42.667L277.327,384c13.781-18.325,21.355-41.067,21.355-64
				c0-23.531-19.136-42.667-42.667-42.667C232.485,277.333,213.349,296.469,213.349,320z" />
                            </g>
                        </g>
                    </g>
                </svg>
                <svg v-if="index === 2" class="size-24 stroke-[5] stroke-emerald-100 fill-emerald-200 " version="1.1"
                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 512 512" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <path
                                    d="M213.349,320c0,5.888,4.779,10.667,10.667,10.667s10.667-4.779,10.667-10.667c0-11.755,9.557-21.333,21.333-21.333
				c11.776,0,21.333,9.579,21.333,21.333s-9.557,21.333-21.333,21.333h-10.667c-5.888,0-10.667,4.779-10.667,10.667
				c0,5.888,4.779,10.667,10.667,10.667h10.667c11.776,0,21.333,9.579,21.333,21.333v21.333c0,11.755-9.557,21.333-21.333,21.333
				c-11.776,0-21.333-9.579-21.333-21.333c0-5.888-4.779-10.667-10.667-10.667s-10.667,4.779-10.667,10.667
				c0,23.531,19.136,42.667,42.667,42.667c23.531,0,42.667-19.136,42.667-42.667V384c0-12.736-5.611-24.171-14.485-32
				c8.875-7.829,14.485-19.264,14.485-32c0-23.531-19.136-42.667-42.667-42.667C232.485,277.333,213.349,296.469,213.349,320z" />
                                <path d="M424.719,4.544C422.735,1.707,419.471,0,415.994,0H309.327c-4.501,0-8.533,2.837-10.048,7.083l-43.712,122.389
				L212.751,7.147C211.237,2.859,207.226,0,202.682,0H96.015c-3.477,0-6.741,1.707-8.725,4.544
				c-2.005,2.859-2.496,6.507-1.301,9.771l82.709,227.456c-37.483,27.157-62.016,71.168-62.016,120.896
				C106.682,445.013,173.69,512,256.015,512s149.333-66.987,149.333-149.333c0-49.728-24.533-93.739-62.037-120.896l82.709-227.456
				C427.194,11.029,426.725,7.381,424.719,4.544z M111.247,21.333h83.883l67.307,192.32c-2.155-0.085-4.267-0.32-6.421-0.32
				c-24.811,0-48.171,6.165-68.8,16.939L111.247,21.333z M384.015,362.667c0,70.592-57.408,128-128,128s-128-57.408-128-128
				s57.408-128,128-128S384.015,292.075,384.015,362.667z M324.794,230.272c-12.096-6.315-25.088-11.093-38.827-13.909l-19.2-54.848
				l50.091-140.181h83.925L324.794,230.272z" />
                            </g>
                        </g>
                    </g>
                </svg>
                <h2 class="text-2xl font-semibold ">
                    <a :href="'/threads/' + thread.id" class=" hover:underline capitalize">{{ thread.title
                        }}</a>
                </h2>
                <p class="">{{ thread.replies_count }} {{ $t('replies') }}</p>
            </div>
        </div>

        <!-- Rest of the Threads in a Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
            <div v-for="(thread) in topThreads.slice(3)" :key="thread.id"
                class="bg-white p-4 rounded-lg shadow-md hover:shadow-xl transition-shadow">
                <h2 class="text-2xl font-semibold ">
                    <a :href="'/threads/' + thread.id" class="text-blue-500 hover:underline capitalize">{{ thread.title
                        }}</a>
                </h2>
                <p class="text-gray-700">{{ thread.replies_count }} {{ $t('replies') }}</p>
            </div>
        </div>
    </div>

    <!-- Questions -->
    <div v-if="activeTab === 'questions'">
        <!-- Top 3 Questions in a Vertical List -->
        <div class="space-y-2">
            <div v-for="(question, index) in topQuestions.slice(0, 3)" :key="question.id"
                class="max-w-md mx-auto shadow-md shadow-black flex flex-col items-center space-y-2"
                :class="['px-4 py-1 rounded-lg shadow-md hover:shadow-xl transition-shadow', index === 0 ? 'bg-slate-700 text-white font-bold py-2' : index === 1 ? 'bg-neutral-700 !text-white py-2' : 'bg-sky-700 !text-white py-2']">
                <svg v-if="index === 0" class="size-24 stroke-[5] stroke-yellow-400 fill-yellow-500 " version="1.1"
                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 512 512" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <path d="M424.747,4.544C422.741,1.707,419.477,0,416,0H309.333c-4.501,0-8.533,2.837-10.069,7.083l-43.712,122.389L212.736,7.147
				C211.243,2.859,207.189,0,202.667,0H96c-3.477,0-6.741,1.685-8.747,4.544c-1.984,2.859-2.475,6.507-1.28,9.771l82.709,227.456
				c-37.483,27.157-62.016,71.168-62.016,120.896C106.667,445.013,173.653,512,256,512s149.333-66.987,149.333-149.333
				c0-49.728-24.533-93.739-62.016-120.896l82.709-227.456C427.221,11.029,426.731,7.381,424.747,4.544z M111.232,21.333h83.861
				l67.328,192.32c-2.155-0.085-4.267-0.32-6.421-0.32c-24.811,0-48.192,6.165-68.8,16.917L111.232,21.333z M384,362.667
				c0,70.592-57.408,128-128,128s-128-57.408-128-128s57.408-128,128-128S384,292.075,384,362.667z M324.8,230.251
				c-12.096-6.315-25.088-11.093-38.827-13.909l-19.2-54.848l50.069-140.16h83.925L324.8,230.251z" />
                                <path d="M214.464,314.091c2.645,5.269,9.024,7.403,14.315,4.779L256,305.259v132.075c0,5.888,4.779,10.667,10.667,10.667
				s10.667-4.779,10.667-10.667V288c0-3.691-1.92-7.125-5.056-9.088c-3.157-1.963-7.061-2.133-10.368-0.469l-42.667,21.333
				C213.973,302.421,211.819,308.821,214.464,314.091z" />
                            </g>
                        </g>
                    </g>
                </svg>
                <svg v-if="index === 1" class="size-24 stroke-[5] stroke-red-400 fill-red-500 " version="1.1"
                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 512 512" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <path d="M424.719,4.544C422.735,1.707,419.471,0,415.994,0H309.327c-4.501,0-8.533,2.837-10.048,7.083l-43.712,122.389
				L212.751,7.147C211.237,2.859,207.226,0,202.682,0H96.015c-3.477,0-6.741,1.707-8.725,4.544
				c-2.005,2.859-2.496,6.507-1.301,9.771l82.709,227.456c-37.483,27.157-62.016,71.168-62.016,120.896
				C106.682,445.013,173.69,512,256.015,512s149.333-66.987,149.333-149.333c0-49.728-24.533-93.739-62.037-120.896l82.709-227.456
				C427.194,11.029,426.725,7.381,424.719,4.544z M111.247,21.333h83.883l67.307,192.32c-2.155-0.085-4.267-0.32-6.421-0.32
				c-24.811,0-48.171,6.165-68.8,16.939L111.247,21.333z M384.015,362.667c0,70.592-57.408,128-128,128s-128-57.408-128-128
				s57.408-128,128-128S384.015,292.075,384.015,362.667z M324.794,230.272c-12.096-6.315-25.088-11.093-38.827-13.909l-19.2-54.848
				l50.091-140.181h83.925L324.794,230.272z" />
                                <path d="M213.349,320v10.667c0,5.888,4.779,10.667,10.667,10.667s10.667-4.779,10.667-10.667V320
				c0-11.755,9.557-21.333,21.333-21.333c11.776,0,21.333,9.579,21.333,21.333c0,18.347-6.059,36.523-17.067,51.221l-44.8,59.733
				c-2.411,3.221-2.816,7.552-1.003,11.157c1.813,3.605,5.504,5.888,9.536,5.888h64c5.888,0,10.667-4.779,10.667-10.667
				c0-5.888-4.779-10.667-10.667-10.667h-42.667L277.327,384c13.781-18.325,21.355-41.067,21.355-64
				c0-23.531-19.136-42.667-42.667-42.667C232.485,277.333,213.349,296.469,213.349,320z" />
                            </g>
                        </g>
                    </g>
                </svg>
                <svg v-if="index === 2" class="size-24 stroke-[5] stroke-emerald-100 fill-emerald-200 " version="1.1"
                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 512 512" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <path
                                    d="M213.349,320c0,5.888,4.779,10.667,10.667,10.667s10.667-4.779,10.667-10.667c0-11.755,9.557-21.333,21.333-21.333
				c11.776,0,21.333,9.579,21.333,21.333s-9.557,21.333-21.333,21.333h-10.667c-5.888,0-10.667,4.779-10.667,10.667
				c0,5.888,4.779,10.667,10.667,10.667h10.667c11.776,0,21.333,9.579,21.333,21.333v21.333c0,11.755-9.557,21.333-21.333,21.333
				c-11.776,0-21.333-9.579-21.333-21.333c0-5.888-4.779-10.667-10.667-10.667s-10.667,4.779-10.667,10.667
				c0,23.531,19.136,42.667,42.667,42.667c23.531,0,42.667-19.136,42.667-42.667V384c0-12.736-5.611-24.171-14.485-32
				c8.875-7.829,14.485-19.264,14.485-32c0-23.531-19.136-42.667-42.667-42.667C232.485,277.333,213.349,296.469,213.349,320z" />
                                <path d="M424.719,4.544C422.735,1.707,419.471,0,415.994,0H309.327c-4.501,0-8.533,2.837-10.048,7.083l-43.712,122.389
				L212.751,7.147C211.237,2.859,207.226,0,202.682,0H96.015c-3.477,0-6.741,1.707-8.725,4.544
				c-2.005,2.859-2.496,6.507-1.301,9.771l82.709,227.456c-37.483,27.157-62.016,71.168-62.016,120.896
				C106.682,445.013,173.69,512,256.015,512s149.333-66.987,149.333-149.333c0-49.728-24.533-93.739-62.037-120.896l82.709-227.456
				C427.194,11.029,426.725,7.381,424.719,4.544z M111.247,21.333h83.883l67.307,192.32c-2.155-0.085-4.267-0.32-6.421-0.32
				c-24.811,0-48.171,6.165-68.8,16.939L111.247,21.333z M384.015,362.667c0,70.592-57.408,128-128,128s-128-57.408-128-128
				s57.408-128,128-128S384.015,292.075,384.015,362.667z M324.794,230.272c-12.096-6.315-25.088-11.093-38.827-13.909l-19.2-54.848
				l50.091-140.181h83.925L324.794,230.272z" />
                            </g>
                        </g>
                    </g>
                </svg>

                <h2 class="text-2xl font-semibold ">
                    <a :href="'/questions/' + question.id" class=" hover:underline capitalize">{{
                        question.title }}</a>
                </h2>
                <p class="">{{ question.answers_count }} {{ $t('answers') }}</p>
            </div>
        </div>

        <!-- Rest of the Questions in a Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
            <div v-for="(question) in topQuestions.slice(3)" :key="question.id"
                class="bg-white p-4 rounded-lg shadow-md hover:shadow-xl transition-shadow">
                <h2 class="text-2xl font-semibold ">
                    <a :href="'/questions/' + question.id" class="text-blue-500 hover:underline capitalize">{{
                        question.title }}</a>
                </h2>
                <p class="text-gray-700">{{ question.answers_count }} {{ $t('answers') }}</p>
            </div>
        </div>
    </div>

    <!-- Channels -->
    <div v-if="activeTab === 'channels'">
        <!-- Top 3 Channels in a Vertical List -->
        <div class="space-y-2">
            <div v-for="(channel, index) in topChannels.slice(0, 3)" :key="channel.id"
                class="max-w-md mx-auto shadow-md shadow-black flex flex-col items-center space-y-2"
                :class="['px-4 py-1 rounded-lg shadow-md hover:shadow-xl transition-shadow', index === 0 ? 'bg-slate-700 text-white font-bold py-2' : index === 1 ? 'bg-neutral-700 !text-white py-2' : 'bg-sky-700 !text-white py-2']">
                <svg v-if="index === 0" class="size-24 stroke-[5] stroke-yellow-400 fill-yellow-500 " version="1.1"
                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 512 512" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <path d="M424.747,4.544C422.741,1.707,419.477,0,416,0H309.333c-4.501,0-8.533,2.837-10.069,7.083l-43.712,122.389L212.736,7.147
				C211.243,2.859,207.189,0,202.667,0H96c-3.477,0-6.741,1.685-8.747,4.544c-1.984,2.859-2.475,6.507-1.28,9.771l82.709,227.456
				c-37.483,27.157-62.016,71.168-62.016,120.896C106.667,445.013,173.653,512,256,512s149.333-66.987,149.333-149.333
				c0-49.728-24.533-93.739-62.016-120.896l82.709-227.456C427.221,11.029,426.731,7.381,424.747,4.544z M111.232,21.333h83.861
				l67.328,192.32c-2.155-0.085-4.267-0.32-6.421-0.32c-24.811,0-48.192,6.165-68.8,16.917L111.232,21.333z M384,362.667
				c0,70.592-57.408,128-128,128s-128-57.408-128-128s57.408-128,128-128S384,292.075,384,362.667z M324.8,230.251
				c-12.096-6.315-25.088-11.093-38.827-13.909l-19.2-54.848l50.069-140.16h83.925L324.8,230.251z" />
                                <path d="M214.464,314.091c2.645,5.269,9.024,7.403,14.315,4.779L256,305.259v132.075c0,5.888,4.779,10.667,10.667,10.667
				s10.667-4.779,10.667-10.667V288c0-3.691-1.92-7.125-5.056-9.088c-3.157-1.963-7.061-2.133-10.368-0.469l-42.667,21.333
				C213.973,302.421,211.819,308.821,214.464,314.091z" />
                            </g>
                        </g>
                    </g>
                </svg>
                <svg v-if="index === 1" class="size-24 stroke-[5] stroke-red-400 fill-red-500 " version="1.1"
                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 512 512" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <path d="M424.719,4.544C422.735,1.707,419.471,0,415.994,0H309.327c-4.501,0-8.533,2.837-10.048,7.083l-43.712,122.389
				L212.751,7.147C211.237,2.859,207.226,0,202.682,0H96.015c-3.477,0-6.741,1.707-8.725,4.544
				c-2.005,2.859-2.496,6.507-1.301,9.771l82.709,227.456c-37.483,27.157-62.016,71.168-62.016,120.896
				C106.682,445.013,173.69,512,256.015,512s149.333-66.987,149.333-149.333c0-49.728-24.533-93.739-62.037-120.896l82.709-227.456
				C427.194,11.029,426.725,7.381,424.719,4.544z M111.247,21.333h83.883l67.307,192.32c-2.155-0.085-4.267-0.32-6.421-0.32
				c-24.811,0-48.171,6.165-68.8,16.939L111.247,21.333z M384.015,362.667c0,70.592-57.408,128-128,128s-128-57.408-128-128
				s57.408-128,128-128S384.015,292.075,384.015,362.667z M324.794,230.272c-12.096-6.315-25.088-11.093-38.827-13.909l-19.2-54.848
				l50.091-140.181h83.925L324.794,230.272z" />
                                <path d="M213.349,320v10.667c0,5.888,4.779,10.667,10.667,10.667s10.667-4.779,10.667-10.667V320
				c0-11.755,9.557-21.333,21.333-21.333c11.776,0,21.333,9.579,21.333,21.333c0,18.347-6.059,36.523-17.067,51.221l-44.8,59.733
				c-2.411,3.221-2.816,7.552-1.003,11.157c1.813,3.605,5.504,5.888,9.536,5.888h64c5.888,0,10.667-4.779,10.667-10.667
				c0-5.888-4.779-10.667-10.667-10.667h-42.667L277.327,384c13.781-18.325,21.355-41.067,21.355-64
				c0-23.531-19.136-42.667-42.667-42.667C232.485,277.333,213.349,296.469,213.349,320z" />
                            </g>
                        </g>
                    </g>
                </svg>
                <svg v-if="index === 2" class="size-24 stroke-[5] stroke-emerald-100 fill-emerald-200 " version="1.1"
                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 512 512" xml:space="preserve">
                    <g>
                        <g>
                            <g>
                                <path
                                    d="M213.349,320c0,5.888,4.779,10.667,10.667,10.667s10.667-4.779,10.667-10.667c0-11.755,9.557-21.333,21.333-21.333
				c11.776,0,21.333,9.579,21.333,21.333s-9.557,21.333-21.333,21.333h-10.667c-5.888,0-10.667,4.779-10.667,10.667
				c0,5.888,4.779,10.667,10.667,10.667h10.667c11.776,0,21.333,9.579,21.333,21.333v21.333c0,11.755-9.557,21.333-21.333,21.333
				c-11.776,0-21.333-9.579-21.333-21.333c0-5.888-4.779-10.667-10.667-10.667s-10.667,4.779-10.667,10.667
				c0,23.531,19.136,42.667,42.667,42.667c23.531,0,42.667-19.136,42.667-42.667V384c0-12.736-5.611-24.171-14.485-32
				c8.875-7.829,14.485-19.264,14.485-32c0-23.531-19.136-42.667-42.667-42.667C232.485,277.333,213.349,296.469,213.349,320z" />
                                <path d="M424.719,4.544C422.735,1.707,419.471,0,415.994,0H309.327c-4.501,0-8.533,2.837-10.048,7.083l-43.712,122.389
				L212.751,7.147C211.237,2.859,207.226,0,202.682,0H96.015c-3.477,0-6.741,1.707-8.725,4.544
				c-2.005,2.859-2.496,6.507-1.301,9.771l82.709,227.456c-37.483,27.157-62.016,71.168-62.016,120.896
				C106.682,445.013,173.69,512,256.015,512s149.333-66.987,149.333-149.333c0-49.728-24.533-93.739-62.037-120.896l82.709-227.456
				C427.194,11.029,426.725,7.381,424.719,4.544z M111.247,21.333h83.883l67.307,192.32c-2.155-0.085-4.267-0.32-6.421-0.32
				c-24.811,0-48.171,6.165-68.8,16.939L111.247,21.333z M384.015,362.667c0,70.592-57.408,128-128,128s-128-57.408-128-128
				s57.408-128,128-128S384.015,292.075,384.015,362.667z M324.794,230.272c-12.096-6.315-25.088-11.093-38.827-13.909l-19.2-54.848
				l50.091-140.181h83.925L324.794,230.272z" />
                            </g>
                        </g>
                    </g>
                </svg>
                <h2 class="text-2xl font-semibold ">
                    {{ channel.name }}
                </h2>
                <p class="">{{ channel.contributions }} {{ $t('contributions') }}</p>
            </div>
        </div>

        <!-- Rest of the Channels in a Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
            <div v-for="(channel) in topChannels.slice(3)" :key="channel.id"
                class="bg-white p-4 rounded-lg shadow-md hover:shadow-xl transition-shadow">
                <Link :href="'/all/' + channel.name" class="text-2xl font-semibold ">
                {{ channel.name }}
                </Link>
                <p class="text-gray-700">{{ channel.contributions }} {{ $t('contributions') }}</p>
            </div>
        </div>
    </div>

    <div v-if="!topUsers.length" class="text-center text-gray-600">لا توجد بيانات في الوقت الحالي.</div>
</template>

<script>
import { Link } from '@inertiajs/inertia-vue3';
export default {
    components: {
        Link
    },
    props: {
        topUsers: {
            type: Array,
            default: () => []
        },
        topThreads: {
            type: Array,
            default: () => []
        },
        topQuestions: {
            type: Array,
            default: () => []
        },
        topChannels: {
            type: Array,
            default: () => []
        }
    },
    data() {
        return {
            tabs: ['users', 'threads', 'questions', 'channels'],
            activeTab: 'users',
            selectedRange: '365', // Default range (7 days)
        };
    },
    methods: {
        setActiveTab(tab) {
            this.activeTab = tab;
        },

        fetchLeaderboardData() {
            // Use this.$inertia.visit instead of axios
            this.$inertia.visit('/leaderboard', {
                method: 'get',
                data: {
                    range: this.selectedRange
                },
                preserveState: true,
                preserveScroll: true,
            });
        }
    },
    mounted() {
        console.log(this.topChannels);
        // Fetch initial data on page load
        this.fetchLeaderboardData();
    }
};
</script>
